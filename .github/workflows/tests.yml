# For most projects, this workflow file will not need changing; you simply need
# to commit it to your repository.
#
# You may wish to alter this file to override the set of languages analyzed,
# or to provide custom queries or build logic.
#
# ******** NOTE ********
# We have attempted to detect the languages in your repository. Please check
# the `language` matrix defined below to confirm you have the correct set of
# supported CodeQL languages.
#
# name: "Testing"

# on:
#   push:
#     branches: [ "main", "octavioflo/*" ]
#   pull_request:
#     # The branches below must be a subset of the branches above
#     branches: [ "main" ]
#   schedule:
#     - cron: '20 10 * * 5'

# jobs:
#   codeql:
#     name: CodeQL
#     runs-on: ubuntu-latest
#     permissions:
#       actions: read
#       contents: read
#       security-events: write

#     strategy:
#       fail-fast: false
#       matrix:
#         language: [ 'python' ]
#         # CodeQL supports [ 'cpp', 'csharp', 'go', 'java', 'javascript', 'python', 'ruby' ]

#     steps:
#     - name: Checkout repository
#       uses: actions/checkout@v3
#     - name: Initialize CodeQL
#       uses: github/codeql-action/init@v2
#       with:
#         languages: ${{ matrix.language }}
#     - name: Autobuild
#       uses: github/codeql-action/autobuild@v2
#     - name: Perform CodeQL Analysis
#       uses: github/codeql-action/analyze@v2
#       with:
#         category: "/language:${{matrix.language}}"

#   pytest:
#     name: "Pytest"
#     runs-on: ubuntu-latest
#     strategy:
#       matrix:
#         python-version: ["3.9"]

#     steps:
#       - uses: actions/checkout@v3
#       - name: Set up Python ${{ matrix.python-version }}
#         uses: actions/setup-python@v4
#         with:
#           python-version: ${{ matrix.python-version }}
#       - name: Install dependencies
#         run: |
#           python -m pip install --upgrade pip
#           pip install poetry pytest
#           poetry export -f requirements.txt --output requirements.txt
#           pip install -r requirements.txt
#       - name: Setup AWS Credentials
#         run: |
#           mkdir ~/.aws
#           touch ~/.aws/credentials
#           echo "[default]" >> ~/.aws/credentials
#           echo "aws_access_key_id = ${{ secrets.AWS_ACCESS_KEY_ID }}" >> ~/.aws/credentials
#           echo "aws_secret_access_key = ${{ secrets.AWS_SECRET_ACCESS_KEY}}" >> ~/.aws/credentials
#       - name: Test with Pytest
#         run: |
#           pytest -v --junitxml=junit-report.xml